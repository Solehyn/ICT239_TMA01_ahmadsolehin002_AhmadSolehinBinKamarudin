<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
    xintegrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
    xintegrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
    crossorigin="anonymous"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.13/js/all.js"
    xintegrity="sha384-xymdQtn1n3lH2wcu0qhcdaOpQwyoarkgLVxC/wZ5q7h9gHtxICrpcaSUfygqZGOe"
    crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css')}}">
  <title>SG Library</title>
  <style>
/* Custom styles for the library theme */
body {
    font-family: 'Montserrat', sans-serif;
    background-color: #eee;
}

.img-fluid {
    max-width: 70%;
    height: auto;
}

/* navbar */
.sidebar {
    height: 100vh;
    background: linear-gradient(rgba(70, 64, 156, 0), rgba(0, 0, 0, .9)), url(https://library.suss.edu.sg/wp-content/uploads/2023/11/Study-Space_High-table-2-cropped-300x200.png);
    background-position: left;
    background-repeat: no-repeat;
    background-size: cover;
    box-shadow: 5px 7px 25px #999;
}

.bottom-border {
    border-bottom: 1px groove #eee;
}

.sidebar-link {
    transition: all .4s;
}

.sidebar-link:hover {
    background-color: #444;
    border-radius: 5px;
}

@media (max-width: 768px) {
    .sidebar {
        position: static;
        height: auto;
    }
}
  
.top-navbar {
    position: static;
    background: linear-gradient(rgba(165, 202, 167, 0.548), rgba(27, 87, 43, 0.377));
}

/* end of navbar */

/* cards */
.card-common {
    box-shadow: 1px 2px 5px #999;
    transition: all .4s;
}

.card-common:hover {
    box-shadow: 2px 3px 15px #999;
    transform: translateY(-1px);
}
.text-custom-green {
    color: #1a5e20 !important; 
}
select[multiple] option:checked {
    background-color: #6a6a6a;  
    color: white;
}
  </style>
</head>

<body>
  <!-- navbar -->
  <nav class="navbar navbar-expand-md navbar-light">
    <button class="navbar-toggler ml-auto mb-2 bg-light" type="button" data-toggle="collapse" data-target="#myNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="myNavbar">
      <div class="container-fluid">
        <div class="row">
          <!-- sidebar -->
          <div class="col-xl-2 col-lg-3 col-md-4 sidebar fixed-top">
            <a href="#" class="navbar-brand text-white d-block mx-auto text-center py-3 mb-4 bottom-border">SG Library</a>
            {% if current_user.is_authenticated %}
            <div class="bottom-border pb-3">
              {% if current_user.email == "admin@lib.sg" %}
              <img src="{{ url_for('static', filename='img/avatar/admin.jpeg')}}" width="50" class="rounded-circle mr-3">
              {% elif current_user.avatar == "" %}
              <img src="{{ url_for('static', filename='img/avatar/default-avatar.png')}}" width="50"
                class="rounded-circle mr-3" id="userAvatar">
              {% else %}
              <img src="{{ url_for('static', filename='img/avatar/' ~ current_user.avatar)}}" width="50"
                class="rounded-circle mr-3" id="userAvatar">
              {% endif %}
              <a href="#" class="text-white">{{ current_user.name }} </a>
            </div>
            {% endif %}
            <ul class="navbar-nav flex-column mt-4">
              <li class="nav-item">
                <a href="{{ url_for('booktitles') }}" class="nav-link text-white p-3 mb-2 sidebar-link active">
                  <i class="fas fa-book text-light fa-lg mr-3"></i>Book Titles
                </a>
              </li>
              {% if not current_user.is_authenticated %}
              <li class="nav-item">
                <a href="{{ url_for('auth.login') }}" class="nav-link text-white p-3 mb-2 sidebar-link">
                  <i class="fas fa-sign-in-alt text-light fa-lg mr-3"></i>Login
                </a>
              </li>
              <li class="nav-item">
                <a href="{{ url_for('auth.register') }}" class="nav-link text-white p-3 mb-2 sidebar-link">
                  <i class="fas fa-user text-light fa-lg mr-3"></i>Register
                </a>
              </li>
              {% else %} 
              {% if current_user.is_authenticated and current_user.is_admin %}
                <li class="nav-item">
                  <a href="{{ url_for('auth.add_book') }}" class="nav-link text-white p-3 mb-2 sidebar-link">
                    <i class="fas fa-cloud-upload-alt text-light fa-lg mr-3"></i>New Book
                  </a>
                </li>
              {% else %}
              {% if current_user.is_authenticated and not current_user.is_admin %}
              <li class="nav-item">
                <a href="{{ url_for('auth.view_loans') }}" class="nav-link text-white p-3 mb-2 sidebar-link">
                  <i class="fas fa-clipboard text-light fa-lg mr-3"></i>Loans
                </a>
              </li>
              {% endif %}            
              {% endif %}
              {% endif %}
            </ul>
          </div>
          <!-- end of sidebar -->

          <!-- top-nav -->
          <div class="col-xl-10 col-lg-9 col-md-8 ml-auto bg-light fixed-top py-2 top-navbar">
            <div class="row align-items-center">
              <div class="col-md-4">
                <h4 class="text-dark text-uppercase mb-0">{% block page_title %}Default Title{% endblock %}</h4>
              </div>
              <div class="col-md-8">
                <ul class="navbar-nav">
                  {% if current_user.is_authenticated %}
                  <li class="nav-item ml-auto">
                    <a href="{{ url_for('auth.logout') }}" class="nav-link" title="Logout">
                      <i class="fas fa-sign-out-alt fa-lg text-dark"></i>
                    </a>
                  </li>
                  {% endif %}
                </ul>
              </div>
            </div>
          </div>
          <!-- end of top-nav -->
        </div>
      </div>
    </div>
  </nav>
  <!-- end of navbar -->

  <!-- main content -->
  <section>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xl-10 col-lg-9 col-md-8 ml-auto">
          <div class="row mb-5">
            {% block mainblock %}
            {% endblock %}
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- end of main content -->
</body>

</html>
