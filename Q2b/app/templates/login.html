{% from "_render_field.html" import render_field %}
{% extends "base.html" %}

{% block page_title %}LOGIN{% endblock %}
{% block mainblock %}
<div class="col-xl-6 col-sm-8 p-2">
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        {% if category == "login" %}
          <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endif %}
      {% endfor %}
    {% endif %}
  {% endwith %}
  <div class="card card-common">
    <div class="card-header">
      <h2>Login</h2>
    </div>
    <div class="card-body">
      <form action="{{ url_for('auth.login') }}" method="post">
        {{ form.hidden_tag() }}
        {{ render_field(form.email, type="email", placeholder="Enter email") }}
        {{ render_field(form.password, type="password", placeholder="Enter password") }}
        <div class="text-right mt-3">
          <button type="submit" class="btn btn-success">Submit</button> 
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}